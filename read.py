import requests from bs4 import BeautifulSoupimport reurl=r'http://www.espncricinfo.com/ci/engine/series/index.html'url_root=r'http://www.espncricinfo.com/'url_static=r'http://static.espncricinfo.com'teams = ['australia','bangladesh', 'india', 'england',            'south africa', 'west indies', 'new zealand',           'pakistan', 'zimbabwe', 'sri lanka']teams = ['australia']def GetSeasons(url):    links_final=[]    r = requests.get(url)    soup = BeautifulSoup(r.content, 'html5lib')    links = soup.find_all('a', href=True)    links_final=[]    for link in links:        if 'ARCHIVE' in str(link):            links_final.append(url_static + link['href'])        elif 'season=' and 'view=season' in str(link):            links_final.append (url_root + link['href'])        return(links_final)def GetRecursiveData(season):    matches=[]        #print('Getting data for season: {0}'.format(season))    r=requests.get(season)    soup=BeautifulSoup(r.content, 'html5lib')    links=soup.findAll('a', href=True)        if links is None or len(links) is not 0:        matches.append(season)    else:        matches.append(season)           for l in links:            GetRecursiveData(season + l['href'])    return matchesdef GetTournamentLinks(links_seasons):    tournaments=[]    for season in links_seasons:        details = GetRecursiveData(season)        for detail in details:            #check for details                r = requests.get(detail)            soup=BeautifulSoup(r.content, 'html5lib')            links = soup.findAll('a', href=True)                           for link in links:                for team in teams:                    if team in str(link):                        link = (link['href'])                        print (link)                                                                           tournaments.append(link)                                            tournaments = list(dict.fromkeys(tournaments))    return (tournaments)def main():    tournaments=[]    links_seasons = GetSeasons(url)    del links_seasons[0]    tournaments = GetTournamentLinks(links_seasons)    print (tournaments)        main()       